<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BGS 50-Question MCQ Quiz</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
font-family: 'Inter', sans-serif;
background-color: #f7fafc;
}
.quiz-container {
max-width: 768px;
margin: auto;
min-height: 100vh;
display: flex;
flex-direction: column;
padding: 1rem;
}
.option-button {
transition: all 0.2s;
cursor: pointer;
box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
}
.option-button:hover:not(.disabled) {
background-color: #e5e7eb;
transform: translateY(-2px); /* Lift effect on hover */
box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
}
.correct {
background-color: #10b981 !important; /* Green 500 */
color: white !important;
border-color: #059669 !important; /* Green 600 */
font-weight: 600;
}
.incorrect {
background-color: #ef4444 !important; /* Red 500 */
color: white !important;
border-color: #dc2626 !important; /* Red 600 */
font-weight: 600;
}
.disabled {
pointer-events: none;
opacity: 0.8;
box-shadow: none; /* No shadow when disabled */
}
</style>
</head>
<body>

<div class="quiz-container">

<!-- Header -->
<header class="text-center py-4 mb-6 bg-white shadow-xl rounded-xl">
<h1 class="text-3xl font-bold text-gray-800">BGS 50-Question Challenge</h1>
<p class="text-gray-600 mt-1">Bangladesh and Global Studies Syllabus Review</p>
</header>

<!-- Progress and Score -->
<div id="progress-bar" class="w-full bg-gray-300 rounded-full h-3 mb-4 overflow-hidden">
<div id="progress-fill" class="bg-indigo-600 h-3 rounded-full transition-all duration-500 ease-in-out" style="width: 0%"></div>
</div>
<div class="flex justify-between text-lg font-semibold text-gray-700 mb-6 px-2">
<span id="question-index">Question 1 of 50</span>
<span id="score-display">Score: 0</span>
</div>

<!-- Quiz Area -->
<main id="quiz-area" class="bg-white p-6 shadow-2xl rounded-2xl flex-grow border border-gray-100">
<!-- Question and Options will be injected here -->
<div class="text-center py-10">
<svg class="animate-spin h-8 w-8 text-indigo-600 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
</svg>
<p class="mt-4 text-gray-500">Loading Quiz...</p>
</div>
</main>

<!-- Navigation Buttons -->
<div id="navigation-area" class="mt-6 p-4 bg-white shadow-xl rounded-xl flex flex-col sm:flex-row justify-between gap-4">
<button id="prev-button" class="px-6 py-3 bg-gray-300 text-gray-700 rounded-lg font-semibold transition-colors hover:bg-gray-400 disabled:opacity-50" disabled>Previous</button>
<button id="next-button" class="px-6 py-3 bg-indigo-600 text-white rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-50">Next Question</button>
</div>

</div>

<script>
// --- QUIZ DATA (50 Questions) ---
// Note: The questions and answers are stored here in JavaScript, making the file self-contained.
const quizData = [
{ q: "Anthropologically, which group of people, known as 'Hilly people', are said to be very much like Mongolian people?", options: ["Saontal, Orao, Mahali", "Chakma, Marma, Tripura", "Garo, Hajang, Coach", "Rakhain, Malpahary, Malo"], correct: "Chakma, Marma, Tripura" },
{ q: "What is the name of the cultivation method followed by the Chakmas that involves cutting and burning hill land in a circular way?", options: ["Terrace farming", "Jum cultivation", "Paddy rotation", "Intercropping"], correct: "Jum cultivation" },
{ q: "In Chakma society, what is the name of the chief of a 'Para' or 'Adam' (a collection of families)?", options: ["Headman", "Ruyaza", "Karbaree", "Chakma King"], correct: "Karbaree" },
{ q: "Which ethnic group in Bangladesh is known for having a matriarchal family structure where the youngest daughter is the heir to the family property?", options: ["Marma", "Rakhain", "Saontal", "Garo"], correct: "Garo" },
{ q: "The greatest festival of the Garos is an agriculture-based festival known as:", options: ["Biju", "Sohrai", "Wangala", "Sangrai"], correct: "Wangala" },
{ q: "Which ethnic group belongs to the Australoyad people, and their main pillar of society is the 'Village Panchayet' run by five 'Important persons'?", options: ["Chakma", "Marma", "Saontal", "Rakhain"], correct: "Saontal" },
{ q: "What is the name of the festival celebrated by the Marmas on the occasion of giving farewell to the last year and reception to the new year, often involving 'Panikhela' (water festival)?", options: ["Biju", "Wangala", "Sangrai", "Baishakhi Purnima"], correct: "Sangrai" },
{ q: "The Rakhain people build their houses on 'Macha' (platform). What is the traditional name for the language from which the word 'Rakhain' is derived, meaning 'conservative nation'?", options: ["Bangalee", "Pali", "Marmagyi", "Achik"], correct: "Pali" },
{ q: "In Bangladesh, what is the age range defined for boys and girls who commit 'juvenile offence'?", options: ["7-18 years", "7-16 years", "14-20 years", "16-21 years"], correct: "7-16 years" },
{ q: "What is identified as the **main** reason for juvenile offence in Bangladesh?", options: ["Lack of creative endeavors", "Physical or mental deformity", "Abuse of mobile and internet", "Poverty"], correct: "Poverty" },
{ q: "Which of the following is NOT listed as a common offence committed by juveniles in Bangladesh?", options: ["Pickpocketing", "Terrorist activities", "Teasing girls (sexual harassment)", "Extorting money from businessmen"], correct: "Terrorist activities" },
{ q: "In the context of preventing juvenile offence, why is ensuring employment opportunities for parents considered important?", options: ["To increase the parents' ability to monitor their children's movements.", "Because parental poverty is identified as a main reason for juvenile offence.", "To stop the production of obscene films and media content.", "To expand primary and secondary education opportunities for the children."], correct: "Because parental poverty is identified as a main reason for juvenile offence." },
{ q: "What is the primary motivation for juveniles to start taking drugs when instigated by friends?", options: ["To find alternative employment sources", "To fulfill their inherent curiosity about harmful effects", "To experience momentary excitement", "To protest against family disturbance and quarrel"], correct: "To experience momentary excitement" },
{ q: "Which health problem is explicitly mentioned as a physical disease that a drug addict may suffer from?", options: ["Diabetes", "Typhoid", "Cancer", "Blindness"], correct: "Cancer" },
{ q: "What is the promise that educational, religious, and socio-cultural organizations should inspire young people to follow to resist drug addiction?", options: ["Stay Positive", "Say No to drug", "Be a Healthy Citizen", "Never Give Up"], correct: "Say No to drug" },
{ q: "Under the 2013 law on the use (control) of tobacco products in Bangladesh, what is the penalty for violating the law for the second time (repeating the same offence)?", options: ["The original penalty is serially doubled.", "Imprisonment for six months.", "A monetary penalty of five hundred Taka.", "The penalty is increased by fifty percent."], correct: "The original penalty is serially doubled." },
{ q: "According to the World Bank (2023) and Bangladesh Economic Survey (2024) data cited, what is the population density of Bangladesh (people per square kilometer)?", options: ["36 people", "1,171 people", "473 people", "2,784 people"], correct: "1,171 people" },
{ q: "What is the slogan of Bangladesh's population policy?", options: ["Population is power: Convert people into resources.", "Be it son or daughter- two children are sufficient.", "Small family, happy family.", "Less children, more wealth."], correct: "Be it son or daughter- two children are sufficient." },
{ q: "What date is observed as Population Day every year in Bangladesh?", options: ["1st May", "2nd February", "21st February", "8th March"], correct: "2nd February" },
{ q: "Bangladesh received the United Nations award (UN award) in 2010 for achieving success in which specific health sector?", options: ["Reducing maternal mortality rate", "Controlling the spread of communicable diseases", "Reducing infant mortality rate", "Achieving universal primary education"], correct: "Reducing infant mortality rate" },
{ q: "What is the primary way mentioned in the text that the huge population of a country can be converted into human resources?", options: ["By restricting internal migration to cities and towns.", "By increasing the production of cash crops like jute and tea.", "By providing proper facilities for education, training, and employment opportunities.", "By implementing quota systems for women's empowerment in all sectors."], correct: "By providing proper facilities for education, training, and employment opportunities." },
{ q: "Which of the following is listed as a strategy for converting population into resources that is related to the economic production sectors?", options: ["To increase skill and expand training-oriented program", "To adopt education and training program according to production based sectors", "To ensure security and health care for the older people of the country", "To send a large number of meritorious students to developed countries"], correct: "To adopt education and training program according to production based sectors" },
{ q: "The concept of 'greenhouse effect' is described as a kind of covering made of different types of gases that works as a:", options: ["Radiation deflector", "Ozone layer protection", "Heat maximiser", "Carbon-di-oxide consumer"], correct: "Heat maximiser" },
{ q: "Which man-made gas is mentioned as destroying the ozone layer of the atmosphere and is produced by household items like refrigerators and air conditioners?", options: ["Carbon-di-oxide ($\text{CO}_2$)", "Methane ($\text{CH}_4$)", "Hydro Chloro Fluoro Carbon (HCFC)", "Nitras-oxide ($\text{NO}_x$)"], correct: "Hydro Chloro Fluoro Carbon (HCFC)" },
{ q: "What analogy is used in the text to describe the significant role the oceans play in controlling world temperature?", options: ["The heart of the planet", "The lungs of the human body", "The liver of the ecology", "The skin of the earth"], correct: "The lungs of the human body" },
{ q: "Which of the following is an effect of global warming already evident in the coastal areas of Bangladesh?", options: ["A massive increase in sweet water fish species due to higher rainfall.", "The loss of fertility in agricultural lands due to increased salinity.", "The desertification of the northern part of Bangladesh.", "An immediate rise in human intellectual diseases like Alzheimer's."], correct: "The loss of fertility in agricultural lands due to increased salinity." },
{ q: "Disasters created due to the malpractices of human beings or their lack of far-sightedness are called:", options: ["Man-made disasters", "Natural disasters", "Climatic disasters", "Ecological imbalance"], correct: "Man-made disasters" },
{ q: "In Bangladesh, which two areas are mentioned as being in the MOST risky zones for earthquakes?", options: ["Barishal and Patuakhali", "Khulna and Jashore", "Dhaka and Sylhet", "Rajshahi and Bogura"], correct: "Dhaka and Sylhet" },
{ q: "What is the primary cause of 'Landslide or Landfall' in the hilly regions of Bangladesh?", options: ["Excessive agricultural cultivation in the valleys.", "Massive deforestation and leveling of hills.", "Mining and excavation of coal and gas from the hills.", "Construction of houses on stilts (macha) on the hillsides."], correct: "Massive deforestation and leveling of hills." },
{ q: "What should NOT be done for cyclone signal numbers 1, 2, 3, and 4?", options: ["Know the danger signals and their explanations.", "Monitor cyclone forecasts regularly.", "Shift children, old people, and women to shelter centers.", "Repair the house and replace old poles (khuti)."], correct: "Shift children, old people, and women to shelter centers." },
{ q: "Which action is recommended for safety **during** a flood/cyclone disaster to secure food and water?", options: ["Use water purification tablets only after the flood subsides.", "Keep pure water in a pitcher, seal it, and preserve it under the earth.", "Immediately take shelter in the nearest high building regardless of the signal number.", "Use the local rafts (vela) for communications only after the reverse storm has passed."], correct: "Keep pure water in a pitcher, seal it, and preserve it under the earth." },
{ q: "What is the recommended action for a commuter in a vehicle if an earthquake suddenly occurs?", options: ["Immediately exit the vehicle and run to the nearest building.", "Ask the driver to stop the vehicle instantly.", "Use the lift in the nearest building to go to the top floor for safety.", "Switch off all electric and gas connections in the vehicle."], correct: "Ask the driver to stop the vehicle instantly." },
{ q: "Why is Bangladesh susceptible to river erosion and flood according to the text?", options: ["The country is situated near the plate on which India and Myanmar are situated.", "The land is almost plain and criss-crossed by innumerous rivers.", "The country is situated in the tropical monsoon region.", "There are no natural obstacles like mountains in the south to prevent cyclone."], correct: "The land is almost plain and criss-crossed by innumerous rivers." },
{ q: "What is the total forest area of Bangladesh as a percentage of the total land area, according to the text?", options: ["25%", "17.49%", "10%", "24,938 square kilometers"], correct: "17.49%" },
{ q: "Which of the following is NOT listed as a valuable mineral found under the earth in Bangladesh?", options: ["Limestone", "Bauxite", "China clay", "Gas"], correct: "Bauxite" },
{ q: "What is the main contribution of forest resources to the overall environment and ecology of Bangladesh?", options: ["Providing the main source of raw materials for the cement industry.", "Maintaining ecological balance.", "Serving as the main habitat for sweet water fish.", "Allowing easy means for cargo transport and communication."], correct: "Maintaining ecological balance." },
{ q: "What is the primary factor that is negatively impacting the bio-diversity in Bangladesh, leading to the hampering of aquatic animal reproduction?", options: ["The excessive use of organic fertilizers in agriculture.", "Building houses, roads, and towns by filling water bodies.", "The over-cultivation of fruit trees like mango and jackfruit.", "The establishment of the Adamjee Jute Mill in Narayanganj."], correct: "Building houses, roads, and towns by filling water bodies." },
{ q: "Which of the following measures is suggested to protect bio-diversity in Bangladesh?", options: ["Increase the production of chemical fertilizer and insecticides.", "The normal flow of water should not be blocked.", "Use the entire forest resource in a planned way for making furniture.", "Adopt a policy to allow the spoiling of cultivable land for industrialization."], correct: "The normal flow of water should not be blocked." },
{ q: "Which industry's advancement is described as starting in the eighties of the last century and quickly becoming the largest export-oriented one in the country?", options: ["Jute industry", "Garment industry", "Sugar industry", "Drug industry"], correct: "Garment industry" },
{ q: "What is the first natural gas-based fertilizer factory established in Bangladesh, and where was it located?", options: ["Chatak Cement Factory, Sunamganj", "Karnafuli Paper Mills, Chandraghona", "Adamjee Jute Mill, Narayanganj", "Fenchugonj Fertilizer Factory, Sylhet"], correct: "Fenchugonj Fertilizer Factory, Sylhet" },
{ q: "The prawn/shrimp industry in Bangladesh is often referred to by what nickname due to its importance as a foreign exchange earning good?", options: ["Liquid Gold", "Black Diamond", "White Gold", "Green Gem"], correct: "White Gold" },
{ q: "Which of the following is an aspect of modern life style that people are developing after coming into contact with industry and technology?", options: ["An increased dependency on agricultural production as the sole source of income.", "The opportunities of new housing, education, medicare, and scientific knowledge.", "An increased rush to rural areas for employment opportunities.", "Marginalization due to acquiring further skills through study and training."], correct: "The opportunities of new housing, education, medicare, and scientific knowledge." },
{ q: "The headquarters of the United Nations International Children's Emergency Fund (UNICEF) is situated in which city?", options: ["Geneva, Switzerland", "Paris, France", "Rome, Italy", "New York, United States of America"], correct: "New York, United States of America" },
{ q: "Which international organization was established in 1946 to ensure peace and security by increasing cooperation in the fields of education, science, culture, and communications?", options: ["WHO", "UNESCO", "FAO", "UNFPA"], correct: "UNESCO" },
{ q: "Which heritage site in Bangladesh was acknowledged and extended help to preserve by UNESCO, besides the Sundarbans and Paharpur Bouddho Bihar?", options: ["The National Parliament House in Dhaka", "The sixty dome-mosque (Shat Gombuj Masjid) in Bagerhat", "Lalbagh Fort in Dhaka", "Mahasthangarh in Bogura"], correct: "The sixty dome-mosque (Shat Gombuj Masjid) in Bagerhat" },
{ q: "The main objective of the United Nations Development Program (UNDP) is to eradicate poverty and to help developing countries develop, primarily working in which of the following areas?", options: ["Global peacekeeping missions and nuclear non-proliferation.", "Maritime trade agreements and international banking regulations.", "Establishing democratic government, facing crisis, and protecting environment.", "Setting global health standards and eliminating six deadly diseases of children."], correct: "Establishing democratic government, facing crisis, and protecting environment." },
{ q: "The Food and Agricultural Organization (FAO) has its headquarter in which European capital city?", options: ["Geneva, Switzerland", "Paris, France", "Rome, Italy", "London, UK"], correct: "Rome, Italy" },
{ q: "Which of the following is one of the six deadly diseases of children that the World Health Organization (WHO) helps to prevent in Bangladesh?", options: ["Tuberculosis (TB)", "Malaria", "Cholera", "HIV/AIDS"], correct: "Tuberculosis (TB)" },
{ q: "What is the primary way the United Nations Population Fund (UNFPA) assists Bangladesh, an overpopulated country?", options: ["By providing large-scale food supply during food crises and natural disasters.", "By helping to adopt population policy and expedite family planning programs.", "By preserving cultural heritage sites and historical monuments.", "By ensuring full-time doctor presence in all Upazila and Union Health Complexes."], correct: "By helping to adopt population policy and expedite family planning programs." },
{ q: "What is the significance of the department named 'Population Sciences' introduced at Dhaka University with the cooperation of UNFPA?", options: ["It directly manages the national census every ten years.", "It teaches population issues and runs research programs on related matters.", "It handles the distribution of all family planning materials nationwide.", "It is responsible for recruiting all family planning workers in the country."], correct: "It teaches population issues and runs research programs on related matters." }
];

// --- STATE VARIABLES ---
let currentQuestionIndex = 0;
let score = 0;
const userAnswers = new Array(quizData.length).fill(null);
let isReviewMode = false;

// --- DOM REFERENCES ---
const quizArea = document.getElementById('quiz-area');
const questionIndexEl = document.getElementById('question-index');
const scoreDisplayEl = document.getElementById('score-display');
const prevButton = document.getElementById('prev-button');
const nextButton = document.getElementById('next-button');
const progressBarFill = document.getElementById('progress-fill');

// Function to show a custom message/modal instead of alert()
function showMessage(title, message) {
const messageBox = document.createElement('div');
messageBox.className = 'fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4';
messageBox.innerHTML = `
<div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-100">
<h3 class="text-xl font-bold mb-3 text-indigo-700">${title}</h3>
<p class="text-gray-700 mb-4">${message}</p>
<button onclick="this.closest('.fixed').remove()" class="w-full py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors">
Understood
</button>
</div>
`;
document.body.appendChild(messageBox);
}

// Renders the current question based on currentQuestionIndex
function renderQuestion() {
const questionData = quizData[currentQuestionIndex];
const userAnswer = userAnswers[currentQuestionIndex];

// Update progress and navigation
updateProgress();
updateNavigationButtons();

// Build the HTML content for the question
let htmlContent = `
<p class="text-xl font-bold mb-6 text-gray-800">
${currentQuestionIndex + 1}. ${questionData.q}
</p>
<div class="space-y-3">
`;

const optionLabels = ['A', 'B', 'C', 'D'];

questionData.options.forEach((option, index) => {
let classes = "option-button w-full text-left p-4 border-2 border-gray-300 rounded-lg shadow-sm font-medium text-gray-700";
let onClick = `selectOption('${option}')`;

// Check if user has answered this question
if (userAnswer || isReviewMode) {
// Disable clicking once answered/in review
onClick = '';
classes += ' disabled';

// Highlight correct/incorrect logic
if (userAnswer === option) {
if (option === questionData.correct) {
classes += ' correct';
} else {
classes += ' incorrect';
}
} else if (option === questionData.correct && (userAnswer || isReviewMode)) {
// Highlight correct answer if incorrect choice was made OR if in review mode
classes += ' correct';
}

}

htmlContent += `
<button
class="${classes}"
data-option="${option}"
onclick="${onClick}"
>
<span class="text-indigo-600 mr-2">${optionLabels[index]}.</span> ${option}
</button>
`;
});

htmlContent += `</div>`;

// Show feedback if in review mode
if (isReviewMode && userAnswer) {
htmlContent += `
<div class="mt-8 p-4 rounded-xl border-l-4 ${userAnswer === questionData.correct ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'}">
<p class="font-bold ${userAnswer === questionData.correct ? 'text-green-700' : 'text-red-700'}">
${userAnswer === questionData.correct ? 'Answer: Correct!' : 'Answer: Incorrect'}
</p>
${userAnswer !== questionData.correct ? `<p class="text-sm mt-1 text-gray-600">The correct answer was: <span class="font-semibold text-green-600">${questionData.correct}</span></p>` : ''}
</div>
`;
}

quizArea.innerHTML = htmlContent;
}

// Handles option selection
function selectOption(selectedOption) {
if (userAnswers[currentQuestionIndex] === null && !isReviewMode) {
userAnswers[currentQuestionIndex] = selectedOption;

// Check if the answer is correct
if (selectedOption === quizData[currentQuestionIndex].correct) {
score++;
}

// Recalculate score (needed if user navigates back and forth)
recalculateScore();

// Re-render the question to show the correct/incorrect feedback
renderQuestion();

// Allow next button to be clicked immediately
updateNavigationButtons();
}
}

function recalculateScore() {
score = 0;
quizData.forEach((question, index) => {
if (userAnswers[index] === question.correct) {
score++;
}
});
}

// Updates score, question index, and progress bar
function updateProgress() {
const totalQuestions = quizData.length;
const answeredQuestions = userAnswers.filter(a => a !== null).length;

questionIndexEl.textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
scoreDisplayEl.textContent = `Score: ${score}`;

// Progress bar fills based on the current question index in review, or answered questions in quiz mode
const progressBasis = isReviewMode ? currentQuestionIndex + 1 : answeredQuestions;
const progressPercentage = (progressBasis / totalQuestions) * 100;
progressBarFill.style.width = `${progressPercentage}%`;
}

// Updates the state of the navigation buttons
function updateNavigationButtons() {
prevButton.disabled = currentQuestionIndex === 0;

if (isReviewMode) {
nextButton.textContent = currentQuestionIndex === quizData.length - 1 ? 'End Review' : 'Next Question';
nextButton.disabled = false;
} else {
nextButton.textContent = currentQuestionIndex === quizData.length - 1 ? 'Finish & See Results' : 'Next Question';
// Disable next if the current question hasn't been answered yet, unless it's the very last question (where 'Finish' is the action)
nextButton.disabled = userAnswers[currentQuestionIndex] === null && currentQuestionIndex < quizData.length - 1;
}
}

// Handles the "Next" button click
function handleNext() {
if (currentQuestionIndex < quizData.length - 1) {
currentQuestionIndex++;
renderQuestion();
} else {
// End of the list of questions
if (isReviewMode) {
// End of review mode
isReviewMode = false;
showResults();
} else {
// End of quiz mode
showResults();
}
}
}

// Handles the "Previous" button click
function handlePrev() {
if (currentQuestionIndex > 0) {
currentQuestionIndex--;
renderQuestion();
}
}

// Shows the final results screen
function showResults() {
recalculateScore();
const totalQuestions = quizData.length;
const percentage = ((score / totalQuestions) * 100).toFixed(1);
const answeredCount = userAnswers.filter(a => a !== null).length;
const unansweredCount = totalQuestions - answeredCount;

let resultMessage;
let resultColor;
if (percentage >= 80) {
resultMessage = "Outstanding! You have an excellent grasp of the material.";
resultColor = 'text-green-600 bg-green-100 border-green-300';
} else if (percentage >= 60) {
resultMessage = "Great job! You passed, but review the topics you missed.";
resultColor = 'text-yellow-600 bg-yellow-100 border-yellow-300';
} else {
resultMessage = "Keep studying! Review the course material and try again.";
resultColor = 'text-red-600 bg-red-100 border-red-300';
}

quizArea.innerHTML = `
<div class="text-center py-10">
<h2 class="text-4xl font-extrabold text-indigo-600 mb-6">Quiz Complete!</h2>
<div class="inline-block p-8 rounded-full border-4 ${resultColor} shadow-lg mb-8">
<p class="text-7xl font-black">${percentage}%</p>
</div>

<p class="text-xl mt-6 text-gray-700 font-medium">${resultMessage}</p>

<div class="grid grid-cols-3 gap-4 mt-8 text-md font-medium">
<div class="p-4 bg-indigo-50 rounded-lg text-indigo-800 border border-indigo-200">
<p class="font-bold text-2xl">${score}</p>
<p class="mt-1">Correct</p>
</div>
<div class="p-4 bg-red-50 rounded-lg text-red-800 border border-red-200">
<p class="font-bold text-2xl">${totalQuestions - score}</p>
<p class="mt-1">Incorrect</p>
</div>
<div class="p-4 bg-gray-50 rounded-lg text-gray-800 border border-gray-200">
<p class="font-bold text-2xl">${totalQuestions}</p>
<p class="mt-1">Total Qs</p>
</div>
</div>

</div>
`;

// Update navigation for results screen
prevButton.textContent = 'Review Answers';
prevButton.disabled = false;
nextButton.textContent = 'Start New Quiz';
nextButton.disabled = false;

// Update progress bar to 100% completion
progressBarFill.style.width = '100%';

// Reassign click handlers for results buttons
prevButton.onclick = startReview;
nextButton.onclick = resetQuiz;
}

// Function to start the review mode
function startReview() {
isReviewMode = true;
currentQuestionIndex = 0;
prevButton.onclick = handlePrev;
nextButton.onclick = handleNext;
renderQuestion();
}

// Function to reset the quiz
function resetQuiz() {
currentQuestionIndex = 0;
score = 0;
userAnswers.fill(null);
isReviewMode = false;

// Re-attach original handlers
prevButton.onclick = handlePrev;
nextButton.onclick = handleNext;

renderQuestion();
}

// --- EVENT LISTENERS ---
nextButton.addEventListener('click', handleNext);
prevButton.addEventListener('click', handlePrev);

// --- INITIALIZATION ---
window.onload = () => {
renderQuestion();
};

</script>

</body>
</html>